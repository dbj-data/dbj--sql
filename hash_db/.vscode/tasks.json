{
  "version": "2.0.0",
  "tasks": [
    {
      /*
clang-cl Troubleshooting
1.
we are using 64 bit compiler
double check you have started from 
[vcvarsall.bat] Environment initialized for: 'x64' !
2.
not all options are supported
https://clang.llvm.org/docs/UsersManual.html#clang-cl
3.
this does not work: /std:c11 
but this does  /clang:-std=c11 
      */
      "type": "cppbuild",
      "label": "build active file",
      // "command": "D:/PROD/programs/Microsoft Visual Studio/2019/Community/VC/Tools/Llvm/x64/bin/clang-cl.exe",
      "command": "${config:dbj.cl}",
      "args": [
        "/W3",
        "/TC",
        "/clang:-std=c11",
        "/DWINVER=0x0A00",
        "/D_WIN32_WINNT=0x0A00",
        /* NOTE: sqlite3 requires utf-8 by default */
        "/utf-8",
        "/Id:/machine_wide",
        "/MTd", /* static runtime debug lib */
        "/Zi", /* include this for debug builds */
        "/Febin\\",
        "/Focruft\\",
        "${file}",
        "/link",
        "sqlite3.lib",
        "/VERSION:0.1",
        "/SUBSYSTEM:CONSOLE",
        "/LIBPATH:d:/machine_wide/sqlite3/bin"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$msCompile"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "DEBUG BUILD"
    },
    /*******************************************************************************************************/
    {
      "type": "shell",
      "label": "dll RELEASE build",
      "command": "cl.exe", //"${env:compiler}", /* not using clang-cl */
      "args": [
        "${config:dbj.common_args_release}",
        "sha1.c", /* be sure to use vs code from this folder */
        "sqlite3.lib", /* passed to the linker */
        "-link",
        "-dll",
        "-out:bin\\sha1.dll",
        "/LIBPATH:d:/machine_wide/sqlite3/bin" /* linker will use this as sqlite lib location */
      ],
      "problemMatcher": [
        "$msCompile"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "detail": "SQLite extension DLL"
    },
    /*******************************************************************************************************/
    {
      "label": "echo",
      "type": "shell",
      "command": "echo ${workspaceFolder}",
      "detail": "echo the varibale value",
      "group": {
        "kind": "build",
        "isDefault": true
      }
    }
  ]
}